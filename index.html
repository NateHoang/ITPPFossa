<!DOCTYPE html>
<html>
  <head>
    <title>IT and PP Fossa</title>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />

    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI',
          'Ubuntu', 'Droid Sans', sans-serif, 'Meiryo';
        padding: 0 12px;
      }

      table {
        border-collapse: collapse;
        margin-bottom: 24px;
        width: 100%;
      }
      table > thead > tr > th,
      table > tbody > tr > td {
        padding: 5px 10px;
      }
      table > thead > tr > th {
        text-align: left;
        border-bottom: 1px solid;
      }
      table > tbody > tr + tr > td {
        border-top: 1px solid;
      }

      .tooltip {
        position: relative;
        cursor: pointer;
        display: inline-block;
      }
      .tooltip img {
        display: none;
        position: absolute;
        bottom: 100%;
        left: 0;
        width: var(--tooltip-img-width, 300px); /* default 300px */
        max-width: none !important;
        max-height: none !important;
        height: auto;
        border: 1px solid #ccc;
        background: #fff;
        padding: 5px;
        z-index: 10;
      }

      .tooltip:hover img {
        display: block;
      }

      .blurred {
        filter: blur(3px);
        transition: filter 0.3s ease;
      }

      /* Make cursor pointer for clickable cells and li */
      table td:not(:first-child),
      table td li {
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <div class="blur-buttons">
      <button id="blurAll">Blur All</button>
      <button id="unblurAll">Unblur All</button>
    </div>

    <div style="text-align: center; font-size: 24px; font-weight: bold">
      Maxillary Artery<br /><br />
    </div>

    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Pathway</th>
          <th>Provides</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Masseteric artery</td>
          <td>Through mandibular notch → deep surface of masseter</td>
          <td>Masseter muscle</td>
        </tr>
        <tr>
          <td>Deep temporal arteries</td>
          <td>Between temporalis & pericranium → pierces temporalis</td>
          <td>Temporalis muscle</td>
        </tr>
        <tr>
          <td>Buccal artery</td>
          <td>Anterior & inferior alongside buccal nerve</td>
          <td>Buccal fat pad, oral mucosa, buccinator muscle</td>
        </tr>
        <tr>
          <td>Posterior superior alveolar artery</td>
          <td>Anterior to lateral pterygoid → alveolar foramen</td>
          <td>Maxillary sinus, upper premolars/molars, gingivae</td>
        </tr>
        <tr>
          <td>Middle meningeal artery</td>
          <td>
            Medial to mandibular neck → foramen spinosum → middle cranial fossa
          </td>
          <td>Dura mater (lateral wall), calvaria</td>
        </tr>
        <tr>
          <td>Inferior alveolar artery</td>
          <td>Descends with inferior alveolar nerve → mandibular canal</td>
          <td>Mandibular teeth, mandible, mylohyoid, chin skin</td>
        </tr>
      </tbody>
    </table>

    <div style="text-align: center; font-size: 24px; font-weight: bold">
      Mandibular Nerve (CN V3)<br /><br />
    </div>

    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Pathway</th>
          <th>Provides</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Inferior alveolar nerve</td>
          <td>
            <li>
              Travels inferiorly deep to lateral pterygoid → mandibular foramen
              → mandibular canal → inferior dental plexus (supplies mandibular
              teeth). Gives off nerve to mylohyoid before entering foramen
            </li>
            <li>
              Mental nerve branch exits mental foramen to supply mucous membrane
              of lower lip, chin, gingivae of mandibular incisors.
            </li>
          </td>
          <td>Mandibular teeth, chin skin, lower lip, gingivae</td>
        </tr>
        <tr>
          <td>Auriculotemporal nerve</td>
          <td>
            <li>
              Branches posteriorly deep to lateral pterygoid → encircles middle
              meningeal artery → sensory to TMJ as it courses between head of
              mandible and external acoustic meatus → Crosses zygomatic process
            </li>
          </td>
          <td>
            TMJ, anterior auricle, temporal skin, carries postganglionic
            parasympathetic fibers to parotid gland.
          </td>
        </tr>
        <tr>
          <td>Lingual nerve</td>
          <td>
            Anterior to inferior alveolar nerve → enters mouth between medial
            pterygoid and mandible
          </td>
          <td>Sensory anterior 2/3 tongue, floor of mouth, lingual gingivae</td>
        </tr>
        <tr>
          <td>Buccal nerve</td>
          <td>Emerges from lateral pterygoid → pierces buccinator</td>
          <td>Cheek mucosa and skin</td>
        </tr>
        <tr>
          <td>Masseteric nerve</td>
          <td>Crosses mandibular notch posteriorly</td>
          <td>Motor to masseter, sensory to TMJ</td>
        </tr>
        <tr>
          <td>Deep temporal nerves</td>
          <td>Above lateral pterygoid → pierce temporalis</td>
          <td>Motor to temporalis</td>
        </tr>
      </tbody>
    </table>

    <style>
      /* same as before */
      .blurred {
        filter: blur(10px);
        transition: filter 0.3s ease;
      }

      /* Make clickable cursor for td */
      table td:not(:first-child) {
        cursor: pointer;
      }

      /* li inside blurred td will inherit blur from parent */
      table td.blurred li {
        filter: inherit;
      }

      .blur-buttons {
        text-align: center;
        margin-bottom: 16px;
      }
      .blur-buttons button {
        margin: 0 5px;
        padding: 5px 12px;
        font-size: 16px;
        cursor: pointer;
      }
    </style>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        // Select all td except the first column
        const blurCells = document.querySelectorAll(
          'table td:not(:first-child)'
        );

        blurCells.forEach((cell) => {
          cell.addEventListener('click', () => {
            cell.classList.toggle('blurred');
          });
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', (event) => {
          if (event.code === 'Space') {
            const allBlurred = Array.from(blurCells).every((cell) =>
              cell.classList.contains('blurred')
            );
            if (allBlurred) {
              blurCells.forEach((cell) => cell.classList.remove('blurred'));
            } else {
              blurCells.forEach((cell) => cell.classList.add('blurred'));
            }
            event.preventDefault(); // Prevent page scrolling
          }
        });

        // Button functionality
        document.getElementById('blurAll').addEventListener('click', () => {
          blurCells.forEach((cell) => cell.classList.add('blurred'));
        });
        document.getElementById('unblurAll').addEventListener('click', () => {
          blurCells.forEach((cell) => cell.classList.remove('blurred'));
        });
      });
    </script>
  </body>
</html>
